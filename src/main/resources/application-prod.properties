# ===============================================================
# Spring & Server Configuration (PROD)
# ===============================================================
spring.application.name=sunhanbackend
# ?? ?? ??? ?? ??? ???? ?? ?????.
server.port=${SERVER_PORT:8080}

# ===============================================================
# Datasource Configuration (PROD)
# - ?? DB ??? ??? ?? ??? ?? ???? ???.
# ===============================================================
# MySQL Datasource (?? DB)
spring.datasource.mysql.url=${DB_MYSQL_URL_PROD}
spring.datasource.mysql.username=${DB_MYSQL_USERNAME_PROD}
spring.datasource.mysql.password=${DB_MYSQL_PASSWORD_PROD}
spring.datasource.mysql.driver-class-name=com.mysql.cj.jdbc.Driver

# Oracle Datasource (?? DB)
spring.datasource.oracle.url=${DB_ORACLE_URL_PROD}
spring.datasource.oracle.username=${DB_ORACLE_USERNAME_PROD}
spring.datasource.oracle.password=${DB_ORACLE_PASSWORD_PROD}
spring.datasource.oracle.driver-class-name=oracle.jdbc.OracleDriver

# ===============================================================
# Hikari Connection Pool Configuration (PROD)
# - Pool ??? -Prod ???? ?? ???? ? ??? ???? ???.
# ===============================================================
# MySQL Hikari Pool
spring.datasource.mysql.hikari.minimum-idle=20
spring.datasource.mysql.hikari.maximum-pool-size=50
spring.datasource.mysql.hikari.idle-timeout=600000
spring.datasource.mysql.hikari.max-lifetime=1800000
spring.datasource.mysql.hikari.connection-timeout=30000
spring.datasource.mysql.hikari.pool-name=HikariCP-MySQL-Prod
spring.datasource.mysql.hikari.validation-timeout=3000
spring.datasource.mysql.hikari.leak-detection-threshold=60000

# Oracle Hikari Pool
spring.datasource.oracle.hikari.minimum-idle=2
spring.datasource.oracle.hikari.maximum-pool-size=10
spring.datasource.oracle.hikari.idle-timeout=600000
spring.datasource.oracle.hikari.max-lifetime=1800000
spring.datasource.oracle.hikari.connection-timeout=30000
spring.datasource.oracle.hikari.pool-name=HikariCP-Oracle-Prod

# ===============================================================
# Security & JWT Configuration (PROD)
# - ?? ?? ??? ?? ?? ??? ?????.
# ===============================================================
# JWT Secret Key
secret-key=${JWT_SECRET_KEY_PROD}

# JWT Token Expiration (????? ?? 1??~24?? ??? ??)
# 1??: 3600000, 24??: 86400000
jwt.access-token.expiration=${JWT_ACCESS_TOKEN_EXPIRATION_PROD:86400000}

# Super Admin Credentials
super-admin-id=${SUPER_ADMIN_ID_PROD}
super-admin-password=${SUPER_ADMIN_PASSWORD_PROD}

# ===============================================================
# JPA & Hibernate Configuration (PROD)
# - ?? ????? ??? ???? ??? ????.
# ===============================================================
spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect
# ?? ????? ?? DB ???? ???? ???? ??? 'none'?? ?????.
spring.jpa.hibernate.ddl-auto=none
# ???? ?? ??? ?? ??? ?????.
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.generate_statistics=false
# ?? ???? ?? 2? ??? ??? ??? ?????.
spring.jpa.properties.hibernate.cache.use_second_level_cache=true
spring.jpa.properties.hibernate.cache.region.factory_class=org.hibernate.cache.jcache.JCacheRegionFactory
spring.jpa.properties.javax.cache.provider=org.ehcache.jsr107.EhcacheCachingProvider
spring.jpa.properties.hibernate.cache.use_query_cache=true
# 1? ?? ???? ?? ??? ??? ?? ???????.
spring.jpa.properties.hibernate.session.events.log.LOG_QUERIES_SLOWER_THAN_MS=1000

# ?? Hibernate ??? ??
spring.jpa.properties.hibernate.jdbc.batch_size=50
spring.jpa.properties.hibernate.jdbc.batch_versioned_data=true
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.properties.hibernate.default_batch_fetch_size=16
spring.jpa.properties.hibernate.jdbc.fetch_size=50
spring.jpa.properties.hibernate.query.in_clause_parameter_padding=true
spring.jpa.properties.hibernate.query.fail_on_pagination_over_collection_fetch=true

# ===============================================================
# File Upload Configuration (PROD)
# - ?? ??? ?? ?? ??? ?? ??? ?? ??? ?????.
# ===============================================================
file.upload.employment-dir=${FILE_UPLOAD_BASE_DIR_PROD}/employmentContract
file.upload.leave-dir=${FILE_UPLOAD_BASE_DIR_PROD}/leave_application
file.upload.sign-dir=${FILE_UPLOAD_BASE_DIR_PROD}/sign_image
file.upload.url-prefix=/uploads

# Multipart File Size Limits
spring.servlet.multipart.max-file-size=5MB
spring.servlet.multipart.max-request-size=5MB

# ===============================================================
# Swagger UI Configuration (PROD)
# - ??? ?? ?? ????? Swagger UI? ???????.
# ===============================================================
springdoc.swagger-ui.enabled=false

# ===============================================================
# Actuator & Monitoring (PROD)
# - ?????? ?? ????? ?? Actuator? ??????.
# - ??? ?? Actuator ?????? ??? ??? ???? ???.
# ===============================================================
management.endpoints.web.exposure.include=health,info,metrics,hikaricp
management.endpoint.health.show-details=when-authorized
management.metrics.enable.hikaricp=true
spring.datasource.mysql.hikari.register-mbeans=true

# ===============================================================
# Misc Configurations
# ===============================================================
# Async Task Pool
spring.task.execution.pool.core-size=10
spring.task.execution.pool.max-size=50
spring.task.execution.pool.queue-capacity=100
spring.task.execution.thread-name-prefix=async-task-prod-

# Jackson
spring.jackson.serialization.write-dates-as-timestamps=false